"use strict";(self["webpackChunkgami"]=self["webpackChunkgami"]||[]).push([[153],{1153:function(t,a,e){e.r(a),e.d(a,{default:function(){return dt}});var s=e(6252),o=e(3577);const c=(0,s._)("h2",null,"單一課程",-1),n={class:"container my-4"},i={class:"row"},r={class:"col-lg-6 mb-2"},l={class:"card h-100"},d=(0,s._)("div",{class:"card-header"},"課程介紹",-1),u={class:"card-body text-start"},h={class:"card-title"},g={class:"card-text"},v={class:""},m=(0,s._)("span",null,"相關指令：",-1),p=(0,s._)("button",{type:"button",class:"me-2 btn badge bg-secondary"},"moveTo",-1),b=(0,s._)("button",{type:"button",class:"me-2 btn badge bg-secondary"},"lineTo",-1),w=(0,s._)("button",{type:"button",class:"me-2 btn badge bg-secondary"},"stroke",-1),_={class:"col-lg-6 mb-2"},D={class:"card"},f=(0,s._)("div",{class:"card-header"},"預覽效果",-1),y=["src"],x={class:"row"},C={class:"col"},I=(0,s._)("br",null,null,-1),k=(0,s._)("br",null,null,-1),z={class:"container"},S={class:"row mb-5"};function $(t,a,e,$,j,W){const E=(0,s.up)("pagination"),R=(0,s.up)("canvas-area");return(0,s.wg)(),(0,s.iD)(s.HY,null,[c,(0,s._)("div",n,[(0,s._)("div",i,[(0,s._)("div",r,[(0,s._)("div",l,[d,(0,s._)("div",u,[(0,s._)("h5",h,(0,o.zw)(this.courseData.title),1),(0,s._)("p",g,(0,o.zw)(this.courseData.description),1),(0,s._)("p",v,[m,(0,s._)("button",{type:"button",class:"me-2 btn badge bg-secondary",onClick:a[0]||(a[0]=(...t)=>W.fillRect&&W.fillRect(...t))},"fillRect"),p,b,w])])])]),(0,s._)("div",_,[(0,s._)("div",D,[f,(0,s._)("img",{src:this.courseData.imageUrl,class:"card-img-bottom img-fluid mx-auto p-2",alt:"預覽效果圖",style:{width:"400px",height:"300px","object-fit":"cover"}},null,8,y)])])]),(0,s._)("div",x,[(0,s._)("div",C,[(0,s.Wm)(E,{pages:j.scheduleData,onGetCourse:W.getData},null,8,["pages","onGetCourse"])])])]),I,k,(0,s._)("div",z,[(0,s._)("div",S,[(0,s.Wm)(R,{courseCode:this.courseData.Code},null,8,["courseCode"])])])],64)}const j={class:"container-fluid bg-secondary bg-gradient"},W={class:"container pt-3 pb-3"},E={class:"row"},R={class:"col-12 col-lg-6"},Q={class:"row row-cols-1 row-cols-lg-2"},H=(0,s._)("div",{class:"col text-start text-white fs-3"},[(0,s._)("p",null,"javascript :")],-1),q={class:"col text-end"},B=(0,s._)("button",{type:"button",class:"mx-1 btn btn-lg btn-secondary","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"}," ! ",-1),N=(0,s._)("textarea",{id:"editor"},null,-1),T={class:"col-12 col-lg-6 overflow-hidden"},Y={class:"row"},Z={class:"col"},A={class:"col text-start text-white fs-3"},G=(0,s._)("iframe",{id:"preview",class:"h-100 w-100 bg-light"},null,-1);function J(t,a,e,c,n,i){return(0,s.wg)(),(0,s.iD)("div",j,[(0,s._)("div",W,[(0,s._)("div",E,[(0,s._)("div",R,[(0,s._)("div",Q,[H,(0,s._)("div",q,[(0,s._)("button",{type:"button",class:"mx-1 btn btn-lg btn-secondary",onClick:a[0]||(a[0]=(...t)=>i.check&&i.check(...t))}," check "),B,(0,s._)("button",{type:"button",class:"mx-1 btn btn-lg btn-secondary",onClick:a[1]||(a[1]=(...t)=>i.refresh&&i.refresh(...t))}," > "),(0,s._)("button",{type:"button",class:"mx-1 btn btn-lg btn-secondary",onClick:a[2]||(a[2]=(...t)=>i.save&&i.save(...t))}," 存檔 ")])]),N]),(0,s._)("div",T,[(0,s._)("div",Y,[(0,s._)("div",Z,[(0,s._)("div",A,[(0,s._)("p",null,"效果顯示 ："+(0,o.zw)(),1)])])]),G])])])])}var O=e(4631),P=(e(6876),{data(){return{QuizData:[],ansData:[],userData:[]}},props:["courseCode"],watch:{courseCode(){this.code=this.courseCode,this.editor.setValue(this.code),this.init()}},methods:{init(){this.htmlCode='<canvas id="myCanvas"></canvas>',this.js=`\`<script>var canvas = document.getElementById("myCanvas"); \nvar ctx = canvas.getContext("2d"); \ncanvas.width = window.innerWidth; \ncanvas.height = window.innerHeight; \n${this.courseCode}\nvar QuizData = ctx.getImageData(0,0,canvas.width,canvas.height);\nctx.clearRect(0,0,canvas.width,canvas.height);\n${this.courseCode}\n//ctx.putImageData(QuizData,0,0)\nvar ansData = ctx.getImageData(0,0,canvas.width,canvas.height);<\/script>\``;const t=document.querySelector("#preview").contentWindow.document,a=document.querySelector("#preview").contentWindow;t.open(),t.write(this.htmlCode+this.js),this.ansData=a.ansData.data,this.QuizData=a.QuizData.data;let e=0,s=0;for(let o=0;o<this.ansData.length;o++)this.ansData[o]!==this.QuizData[o]&&s++;console.log(s),localStorage.setItem("imageDiff",s),this.ansData.forEach((t=>{0!==t&&e++})),localStorage.setItem("totalPixels",e)},refresh(){this.init();const t=document.querySelector("#preview").contentWindow.document;this.code=this.editor.getValue(),this.htmlCode='<canvas id="myCanvas"></canvas>',this.jsCode=`<script>${this.code} \n      var userData = ctx.getImageData(0,0,canvas.width,canvas.height);<\/script>`,t.write(this.htmlCode+this.jsCode);const a=document.querySelector("#preview").contentWindow;this.userData=a.userData.data,t.close(),this.jsCode=" "},save(){const{id:t}=this.$route.params,a=this.saveId.findIndex((a=>a===t));-1===a?this.saveId.push(t):alert("已存在"),localStorage.setItem("saveId",JSON.stringify(this.saveId))},check(){const t=parseInt(localStorage.getItem("imageDiff")),a=parseInt(localStorage.getItem("totalPixels"));let e=0,s=0;this.userData.forEach((t=>{0!==t&&e++}));for(let c=0;c<this.userData.length;c++)this.QuizData[c]!==this.userData[c]&&s++;const o=(t-s)*(t-s)+(a-e)*(a-e);console.log(o,s,t),o<20?alert("good"):alert("try again")}},mounted(){this.editor=O.fromTextArea(document.getElementById("editor"),{lineNumbers:"true",theme:"dracula",mode:"javascript"})}}),U=e(3744);const V=(0,U.Z)(P,[["render",J]]);var F=V;const K={class:"container"},L={class:"row"},M={class:"col"},X={class:"text-start text-dark fs-3 mb-0"},tt={class:"progress mb-3"},at={class:"d-flex justify-content-end",style:{"--bs-breadcrumb-divider":"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E\")"},"aria-label":"breadcrumb"},et={class:"breadcrumb"},st={class:"badge rounded-pill bg-primary"};function ot(t,a,e,c,n,i){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",K,[(0,s._)("div",L,[(0,s._)("div",M,[(0,s._)("p",X," 目前進度 ："+(0,o.zw)(n.saveId.length)+"/3 ",1),(0,s._)("div",tt,[(0,s._)("div",{class:"progress-bar progress-bar-striped",role:"progressbar",style:(0,o.j5)({width:n.saveId.length/3*100+"%"}),"aria-valuenow":"10","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])])]),(0,s._)("nav",at,[(0,s._)("ol",et,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pages,((e,c)=>((0,s.wg)(),(0,s.iD)("li",{class:"breadcrumb-item active",key:e.id,"aria-current":"page"},[(0,s._)("span",st,[(0,s.Wm)(r,{class:"text-white text-decoration-none",to:`/course/${e.id}`,onClick:a[0]||(a[0]=a=>t.$emit("get-course"))},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(c+1),1)])),_:2},1032,["to"])])])))),128))])])],64)}var ct={props:["pages"],emits:["get-course"],data(){return{saveId:JSON.parse(localStorage.getItem("saveId"))||[]}},methods:{addFinish(){console.log("123")}}};const nt=(0,U.Z)(ct,[["render",ot]]);var it=nt,rt={components:{pagination:it,canvasArea:F},data(){return{courseData:{Code:""},scheduleData:[],category:null}},methods:{fillRect(){this.courseData.Code='var canvas = document.getElementById("myCanvas"); \nvar ctx = canvas.getContext("2d"); \ncanvas.width = window.innerWidth; \ncanvas.height = window.innerHeight; \n// 上方為必要內容 \nctx.fillRect(20,20,150,100);'},getData(){const{id:t}=this.$route.params;this.$http(`https://vue3-course-api.hexschool.io/v2/api/kai/product/${t}`).then((t=>{this.courseData=t.data.product,this.category=this.courseData.category,this.allData(this.category)})).catch((t=>{console.log(t)}))},allData(t){this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/kai/products?category=${t}`).then((t=>{this.scheduleData=t.data.products})).catch((t=>{console.log(t)}))}},mounted(){this.getData()}};const lt=(0,U.Z)(rt,[["render",$]]);var dt=lt}}]);
//# sourceMappingURL=153.84c133ea.js.map